# Single-User Design - ุชุตููู ููุงุณุชุฎุฏุงู ุงูุดุฎุตู

**ุชุงุฑูุฎ**: 9 ููุงูุฑ 2026  
**ุงูุญุงูุฉ**: ูุคูุฏ โ

---

## ๐ฏ ุงูููุฌ ุงูุฃุณุงุณู

ูุฐุง ุงูุจุฑูุงูุฌ ูุตูู **ููุงุณุชุฎุฏุงู ุงูุดุฎุตู ููุท** ูู ูุจู ูุณุชุฎุฏู ูุงุญุฏ.

### โ ูุง ูุนูู ุฐูู:
- **ูุง ููุฌุฏ ูุธุงู ูุณุชุฎุฏููู ูุชุนุฏุฏ** (No multi-user support)
- **ูุง ููุฌุฏ authentication/authorization** (No login system)
- **ูุง ููุฌุฏ user profiles ุฃู accounts**
- **ูุง ุญุงุฌุฉ ูู JWT tokens ุฃู sessions**
- **ูุง ุญุงุฌุฉ ูู role-based access control**

---

## ๐ ุงูุชุตููู ุงูุญุงูู

### ุงูุจููุฉ:
```
Local Machine
    โ
Backend (localhost:3000)
    โ
Frontend (browser)
    โ
AI APIs (external)
```

### ุงูุฃูุงู:
- **HEALTH_TOKEN**: ููุท ูุญูุงูุฉ `/api/health` endpoint ูู ุงููุตูู ุงูุนุฑุถู
- **API Keys**: ูุญููุธุฉ ูู `.env` ุนูู ุฌูุงุฒู ุงููุญูู
- **CORS**: ูููุฏ ุนูู `localhost` ููุท
- **ูุง ููุฌุฏ public access**: ุงูุจุฑูุงูุฌ ูุนูู ูุญููุงู ููุท

---

## ๐ ุงูุฃูุงู ุงููุทููุจ

### ูุง ูู ูุทุจู:
1. โ **Environment variables** ูุญูุธ API keys
2. โ **CORS policy** ูุญุฏูุฏุฉ ุนูู localhost
3. โ **HEALTH_TOKEN** ูุญูุงูุฉ health checks
4. โ **Rate limiting** ูุญูุงูุฉ APIs ูู ุงูุงุณุชุฎุฏุงู ุงูููุฑุท (ุญุชู ูู ูุงู ุดุฎุตู)

### ูุง ูู ุบูุฑ ูุทููุจ:
- โ User authentication (login/logout)
- โ Password hashing
- โ JWT tokens
- โ User database
- โ Session management
- โ Role-based permissions
- โ Multi-tenant isolation

---

## ๐พ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช

### ุงูุญุงูู (In-Memory):
```javascript
// backend/src/core/memory.js
const channelMessages = new Map();
// ุจุณูุท ูุณุฑูุน ููุงุณุชุฎุฏุงู ุงูุดุฎุตู
```

**ุงูููุงุฆุฏ**:
- ุณุฑูุน ุฌุฏุงู
- ูุง ุญุงุฌุฉ ูู database setup
- ุจุณูุท ููุตูุงูุฉ
- ููุงุณุจ ููุงุณุชุฎุฏุงู ุงููููู

**ุงููููุฏ**:
- ุงูุจูุงูุงุช ุชูููุฏ ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู Server
- ูุญุฏูุฏ ุจุฐุงูุฑุฉ RAM

### ุฅุฐุง ุฃุฑุฏุช Persistence (ุงุฎุชูุงุฑู):
```javascript
// ูููู ุงุณุชุฎุฏุงู SQLite ููุจุณุงุทุฉ
npm install better-sqlite3

// ุฃู ูููุงุช JSON ุจุณูุทุฉ
fs.writeFileSync('data/conversations.json', JSON.stringify(data));
```

**ูุชู ุชุญุชุงุฌ Database**:
- โ ุฅุฐุง ุฃุฑุฏุช ุญูุธ ุงููุญุงุฏุซุงุช ุจุดูู ุฏุงุฆู
- โ ุฅุฐุง ุฃุฑุฏุช ุชุญููู ุงูุจูุงูุงุช ุนูู ุงููุฏู ุงูุทููู
- โ ุฅุฐุง ุฃุฑุฏุช backup ุชููุงุฆู

**ูุชู ูุง ุชุญุชุงุฌ Database**:
- โ ุฅุฐุง ูุงู ุงูุงุณุชุฎุฏุงู ูููู ูุฎููู
- โ ุฅุฐุง ูุงูุช ุงููุญุงุฏุซุงุช ูุตูุฑุฉ
- โ ุฅุฐุง ูู ุชูุชู ุจุงูุชุงุฑูุฎ ุงููุฏูู

---

## ๐ ุงูุฃุฏุงุก ูุงูุชูุณุน

### ููุงุณุชุฎุฏุงู ุงูุดุฎุตู:
- **Concurrent users**: 1 (ุฃูุช ููุท)
- **Load**: ุฎููู ุฌุฏุงู
- **Scaling**: ุบูุฑ ูุทููุจ
- **Caching**: In-memory ูุงูู
- **Database**: ุงุฎุชูุงุฑู (SQLite ุฅุฐุง ุงุญุชุฌุช)

### Rate Limiting:
```javascript
// rate-limiter.js - ูููู ุชุนุฏูู ุงูุญุฏูุฏ
const MAX_REQUESTS_PER_WINDOW = 60; // ุฒุฏ ุฅุฐุง ุงุญุชุฌุช
const MAX_REQUESTS_CHAT = 30;       // ุฒุฏ ุฅุฐุง ุงุญุชุฌุช
const MAX_REQUESTS_AGENT = 10;      // ุฒุฏ ุฅุฐุง ุงุญุชุฌุช
```

**ููุงุฐุง Rate Limiting ูู ุจุฑูุงูุฌ ุดุฎุตูุ**
- ุญูุงูุฉ ูู ุงูุฃุฎุทุงุก ุงูุจุฑูุฌูุฉ (infinite loops)
- ุชุฌูุจ ุงุณุชูุฒุงู API quotas
- ุญูุงูุฉ ูู ุงุณุชุฎุฏุงู ููุฑุท ุบูุฑ ููุตูุฏ

---

## ๐ง ุงูุชุฎุตูุต ููุงุณุชุฎุฏุงู ุงูุดุฎุตู

### ููููู ุชุนุฏูู:

#### 1. ุฒูุงุฏุฉ Rate Limits:
```javascript
// backend/src/core/rate-limiter.js
const MAX_REQUESTS_PER_WINDOW = 120; // ุจุฏูุงู ูู 60
const MAX_REQUESTS_CHAT = 60;        // ุจุฏูุงู ูู 30
const MAX_REQUESTS_AGENT = 20;       // ุจุฏูุงู ูู 10
```

#### 2. ุฅููุงู Rate Limiting ุชูุงูุงู (ุบูุฑ ูุณุชุญุณู):
```javascript
// backend/src/server.js
// ุนูู ูุฐู ุงูุณุทูุฑ:
// app.use("/api", rateLimiter());
// app.use("/agent", rateLimiter());
// app.use("/consult", rateLimiter());
```

#### 3. ุญุฐู HEALTH_TOKEN (ุบูุฑ ูุณุชุญุณู):
```javascript
// backend/src/server.js
// ูู requireHealthAuth function
if (!expectedToken) {
    // return true; // ุงุณูุญ ุจุงููุตูู ุจุฏูู token
}
```

#### 4. ุฒูุงุฏุฉ Memory Limits:
```javascript
// backend/src/core/memory.js
const MAX_MESSAGES_PER_CHANNEL = 100; // ุจุฏูุงู ูู 50
const CHANNEL_TTL_HOURS = 48;         // ุจุฏูุงู ูู 24
```

---

## ๐ ููุงุฑูุฉ: Single-User vs Multi-User

| ุงูููุฒุฉ | Single-User (ุงูุญุงูู) | Multi-User (ุบูุฑ ูุทููุจ) |
|--------|---------------------|----------------------|
| Authentication | โ | โ ูุทููุจ |
| Database | ุงุฎุชูุงุฑู | ุถุฑูุฑู |
| Session Management | โ | โ ูุทููุจ |
| User Isolation | โ | โ ูุทููุจ |
| Role Permissions | โ | โ ูุทููุจ |
| Scalability | ุบูุฑ ูุทููุจ | ููู ุฌุฏุงู |
| Complexity | ููุฎูุถ โ | ุนุงูู |
| Setup Time | ุฏูุงุฆู โ | ุณุงุนุงุช/ุฃูุงู |
| Maintenance | ุจุณูุท โ | ูุนูุฏ |

---

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช ููุงุณุชุฎุฏุงู ุงูุดุฎุตู

### โ ุงูุนู:
1. **ุงุญูุธ API keys ูู `.env`** - ูุง ุชุนุฑุถูุง ูู ุงูููุฏ
2. **ุงุณุชุฎุฏู HEALTH_TOKEN** - ุญูุงูุฉ ุจุณูุทุฉ
3. **ุงุญุชูุธ ุจู Rate Limiting** - ุญูุงูุฉ ูู ุงูุฃุฎุทุงุก
4. **ุฑุงุฌุน logs ุจุงูุชุธุงู** - ูุงูุชุดุงู ุงููุดุงูู ูุจูุฑุงู
5. **ุนูู backup ููู `.env`** - ูู ููุงู ุขูู

### โ ูุง ุชูุนู:
1. **ูุง ุชุนุฑุถ ุงูุจุฑูุงูุฌ ููุฅูุชุฑูุช** - localhost ููุท
2. **ูุง ุชุดุงุฑู API keys** - ุดุฎุตูุฉ ููุท
3. **ูุง ุชุญุฐู error handling** - ููู ููุงุณุชูุฑุงุฑ
4. **ูุง ุชุนุทู CORS** - ุญูุงูุฉ ุถุฑูุฑูุฉ
5. **ูุง ุชุถุน `.env` ูู git** - ูุญูู ุจู `.gitignore`

---

## ๐ฎ ุงููุณุชูุจู (ุฅุฐุง ุชุบูุฑุช ุงูุงุญุชูุงุฌุงุช)

### ุฅุฐุง ุฃุฑุฏุช ูุดุงุฑูุฉ ุงูุจุฑูุงูุฌ ูุงุญูุงู:
1. **Database**: ุฃุถู PostgreSQL ุฃู MongoDB
2. **Authentication**: JWT + bcrypt
3. **Multi-tenant**: ุนุฒู ุงูุจูุงูุงุช per user
4. **Deployment**: Docker + Cloud (AWS/Azure/GCP)
5. **Monitoring**: Grafana + Prometheus

### ููู ุญุงููุงู:
**ุงูุญูุงุธ ุนูู ุงูุจุณุงุทุฉ** ูู ุงูุฃูุถู ููุงุณุชุฎุฏุงู ุงูุดุฎุตู โ

---

## ๐ ุงูุฎูุงุตุฉ

### ุงูุจุฑูุงูุฌ ุงูุญุงูู:
```
โ ุจุณูุท
โ ุณุฑูุน
โ ููุซูู
โ ุณูู ุงูุตูุงูุฉ
โ ูุซุงูู ููุงุณุชุฎุฏุงู ุงูุดุฎุตู
```

### ูุง ุญุงุฌุฉ ูู:
```
โ User accounts
โ Login system
โ Complex database
โ Authentication
โ Authorization
โ Multi-tenant architecture
```

### ุงูุชุฑููุฒ ุนูู:
```
โ ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ (Chat, Agent, Consultation)
โ ุฏูุฉ ุงูุชุญููู
โ ุณุฑุนุฉ ุงูุฃุฏุงุก
โ ุณูููุฉ ุงูุงุณุชุฎุฏุงู
โ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ ูููุฏุฉ
```

---

## ๐ฏ ุงูุชูุตูุฉ ุงูููุงุฆูุฉ

**ุงุณุชูุฑ ูู ุงูููุฌ ุงูุญุงูู (Single-User)** ูุฃูู:
1. ููุจู ุงุญุชูุงุฌุงุชู ุงูุดุฎุตูุฉ
2. ุฃุจุณุท ูุฃุณุฑุน
3. ุฃูู ุนุฑุถุฉ ููุฃุฎุทุงุก
4. ุณูู ุงูุชุทููุฑ ูุงูุตูุงูุฉ
5. ูููู ุชูุณูุนู ูุงุญูุงู ุฅุฐุง ุงุญุชุฌุช

**ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ** ูุฌุจ ุฃู ุชุฑูุฒ ุนูู:
- ุชุญุณูู ุงูุชุญููู (Round 2, NLP)
- ุฏุนู ูุบุงุช ุจุฑูุฌุฉ ุฌุฏูุฏุฉ
- ุชุญุณููุงุช UI/UX
- Plugin system
- Export features

**ูููุณ ุนูู**:
- ูุธุงู ูุณุชุฎุฏููู
- Authentication
- Multi-tenant
- Cloud deployment

---

**ุญุงูุธ ุนูู ุงูุจุณุงุทุฉุ ุฑูุฒ ุนูู ุงููููุฉ! ๐**
