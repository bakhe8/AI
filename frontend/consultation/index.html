<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultation Mode â€” AI Council</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="consult.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <div class="top-nav">
        <div class="brand">AI Consultation Council (Layer 2)</div>
        <div class="nav-actions">
            <a class="nav-btn ghost" href="/">Back to Chat</a>
            <a class="nav-btn ghost" href="/agent-ui/">Agent Mode</a>
        </div>
    </div>

    <div class="container">
        <!-- Input Section -->
        <div class="panel input-panel">
            <div class="panel-header">
                <h3>Consultation Topic</h3>
                <span class="badge">Human Directed</span>
            </div>
            <div class="input-group">
                <label>Your Question / Proposal</label>
                <textarea id="questionInput"
                    placeholder="E.g., Evaluate the scalability of the current orchestrator architecture..."
                    rows="3"></textarea>
            </div>
            <div class="input-group">
                <label>Context / Snapshot (Optional)</label>
                <textarea id="contextInput" class="code-font"
                    placeholder="Paste relevant code, architectural snapshot, or constraints here..."
                    rows="5"></textarea>
            </div>
            <div class="actions">
                <button id="startBtn" class="primary-btn">Consult Council</button>
                <div id="statusIndicator" class="status-badge hidden">Running...</div>
            </div>
        </div>

        <!-- Consensus Panel (Hidden initially) -->
        <div id="consensusPanel" class="panel hidden">
            <div class="panel-header">
                <h3>Consensus Analysis</h3>
                <span class="badge warning">Draft</span>
            </div>
            <div id="consensusContent" class="consensus-body">
                <!-- Analysis will go here -->
            </div>
        </div>

        <!-- Transcript Grid -->
        <div id="transcriptGrid" class="transcript-grid hidden">
            <!-- Dynamic columns for each model will be injected here -->
        </div>

        <!-- Decision Gate (Hidden initially) -->
        <div id="decisionGate" class="panel decision-panel hidden">
            <div class="panel-header">
                <h3>Decision Gate</h3>
                <span class="badge danger">Human Authority Required</span>
            </div>
            <div class="decision-body">
                <p>Review the council's feedback above. How would you like to proceed?</p>
                <div class="decision-actions">
                    <button class="decision-btn approve" onclick="alert('Implementation not enabled in Phase 4a')">âœ…
                        Adopt Plan (Mock)</button>
                    <button class="decision-btn reask" onclick="window.scrollTo(0,0)">ðŸ”„ Re-Phrase / Re-Ask</button>
                    <button class="decision-btn reject" onclick="location.reload()">â›” Discard Session</button>
                </div>
            </div>
        </div>
    </div>

    <script src="consult.js"></script>
</body>

</html>